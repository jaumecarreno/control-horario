{% extends "base.html" %}

{% block content %}
  <section class="card">
    <div style="display:flex; justify-content:space-between; gap:1rem; align-items:flex-start; flex-wrap:wrap;">
      <div>
        <h1 style="margin-bottom:.25rem;">Control de PAusas</h1>
        <p class="muted" style="margin-top:0;">{{ employee.name }}</p>
      </div>
      <div class="inline" style="gap:.4rem;">
        <a href="{{ url_for('employee.pause_control', month=prev_month) }}">◀</a>
        <strong>{{ month_label }}</strong>
        <a href="{{ url_for('employee.pause_control', month=next_month) }}">▶</a>
      </div>
    </div>

    <p class="muted" style="margin-top:0;">Pausas {{ month_paused }} · Esperado {{ month_expected }} · Balance {{ month_balance }}</p>

    <table>
      <thead>
        <tr>
          <th>Día</th>
          <th>Entradas/Salidas</th>
          <th>Pausas</th>
          <th>Esperado</th>
          <th>Balance</th>
        </tr>
      </thead>
      <tbody>
        {% for row in month_rows %}
          <tr>
            <td>{{ row.day.strftime('%d/%m/%Y') }}</td>
            <td>
              {% if row.pairs %}
                {{ row.pairs|join(', ') }}
              {% else %}
                —
              {% endif %}
            </td>
            <td>{{ minutes_to_hhmm(row.paused) }}</td>
            <td>{{ minutes_to_hhmm(row.expected) }}</td>
            <td>{{ minutes_to_hhmm(row.balance) }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
{% endblock %}
