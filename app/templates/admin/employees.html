{% extends "base.html" %}

{% block content %}
  <section class="card">
    <div class="inline" style="margin-bottom:.75rem; gap:1rem;">
      <strong>Admin:</strong>
      <a href="{{ url_for('admin.employees_list') }}">Empleados</a>
      <a href="{{ url_for('admin.shifts') }}">Turnos</a>
    </div>

    <h1>Employees</h1>
    <p><a href="{{ url_for('admin.employees_new') }}">Create employee</a></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Active</th>
          <th>Turno</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for employee in active_employees %}
          <tr>
            <td>{{ employee.name }}</td>
            <td>{{ employee.email or '-' }}</td>
            <td>{{ "Yes" if employee.active else "No" }}</td>
            <td>{{ employee.shift.name if employee.shift else '-' }}</td>
            <td><a href="{{ url_for('admin.employee_edit', employee_id=employee.id) }}">Editar</a></td>
          </tr>
        {% else %}
          <tr><td colspan="5">No employees found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <section class="card">
    <details>
      <summary>Empleados inactivos ({{ inactive_employees|length }})</summary>
      <table style="margin-top:.75rem;">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Turno</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for employee in inactive_employees %}
            <tr style="color:#94a3b8;">
              <td>{{ employee.name }}</td>
              <td>{{ employee.email or '-' }}</td>
              <td>{{ employee.shift.name if employee.shift else '-' }}</td>
              <td><a href="{{ url_for('admin.employee_edit', employee_id=employee.id) }}">Editar</a></td>
            </tr>
          {% else %}
            <tr><td colspan="4">No inactive employees.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </details>
  </section>
{% endblock %}
