{% extends "base.html" %}

{% block content %}
  <section class="card">
    {% include "admin/_sections.html" %}
    <h1>Employees</h1>
    <p><a href="{{ url_for('admin.employees_new') }}">Create employee</a></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Current shift</th>
          <th>Active</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for employee in employees %}
          <tr>
            <td>{{ employee.name }}</td>
            <td>{{ employee.email or '-' }}</td>
            <td>{{ current_shift_by_employee.get(employee.id, '-') }}</td>
            <td>{{ "Yes" if employee.active else "No" }}</td>
            <td><a href="{{ url_for('admin.employees_edit', employee_id=employee.id) }}">Edit</a></td>
          </tr>
        {% else %}
          <tr><td colspan="5">No employees found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
{% endblock %}
